<button class="city {(anySelected && !(isSelected)) ? 'not-selected' : ''}" on:click="$set({ answers: { ...$answers, [key]: this.innerText }})">
  <img src={src} alt={value} />
  <slot></slot>
</button>

<script>
  export default {
    computed: {
      src: ({ value }) => `img/city_${value.replace(' ', '_').toLowerCase()}.png`,
      isSelected: ({ $answers, key, value }) => $answers[key] == value,
      anySelected: ({ $answers, key, value }) => $answers[key] != null
    }
  }

</script>

<style>
  .city {
    flex: 1;
    margin-right: 1em;
    background: #000;
    padding: 0;
    height: 480px;
    overflow: hidden;
    cursor: pointer;
    border: 0;
  }
  .city img {
    width: 100%;
    opacity: 1;
  }
  .answer:last-of-type {
    margin-right: 0;
  }
  .not-selected img {
    opacity: 0.6;
  }


</style>
